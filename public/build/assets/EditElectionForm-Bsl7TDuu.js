import{W as v,r as j,j as e}from"./app-B2AWkznq.js";import{I as m}from"./InputError-h8NeWBlP.js";import{I as o}from"./InputLabel-g5S-7c0g.js";import{M as b}from"./Modal-BvNI2SCb.js";import{P as g}from"./PrimaryButton-DHkyTZzs.js";import{S as N}from"./SecondaryButton-C-C6zuDm.js";import{S}from"./SelectInput-B0bfgrJJ.js";import{T as c}from"./TextInput-CBJ6gXdd.js";import{_ as y}from"./index-BscC6gSc.js";import{$ as E}from"./module-B81j2Vb3.js";import"./transition-B-Jck_k3.js";function A({modalOpen:p,closeModal:d,election:a}){const{data:r,setData:s,put:x,processing:u,errors:n,reset:_}=v({name:"",is_active:"",start_date:"",end_date:""});j.useEffect(()=>{a&&s({name:a.name,is_active:a.is_active,start_date:a.start_date,end_date:a.end_date})},[a]);const f=t=>{if(t){let l=0;for(const i in t)t.hasOwnProperty(i)&&setTimeout(()=>{y.error(t[i])},l),l+=150}},h=(t,l)=>{t.preventDefault(),x(route("election.update",l),{preserveScroll:!0,onSuccess:()=>{_(),d()},onError:i=>f(i)})};return e.jsx(b,{show:p,onClose:d,children:e.jsxs("form",{onSubmit:t=>{h(t,a.id)},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Create new election"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"election_name",value:"Election Name"}),e.jsx(c,{type:"text",className:"mt-1 block w-full",id:"election_name",name:"name",value:r.name,isFocused:!0,onChange:t=>s("name",t.target.value)}),e.jsx(m,{message:n.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"election_start_date",value:"Election Start Date"}),e.jsx(c,{type:"date",className:"mt-1 block w-full",id:"election_start_date",name:"start_date",value:r.start_date,onChange:t=>s("start_date",t.target.value)}),e.jsx(m,{message:n.start_date,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"election_end_date",value:"Election End Date"}),e.jsx(c,{type:"date",className:"mt-1 block w-full",id:"election_end_date",name:"end_date",value:r.end_date,onChange:t=>s("end_date",t.target.value)}),e.jsx(m,{message:n.end_date,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"election_status",value:"Election Status"}),e.jsxs(S,{className:"mt-1 block w-full",id:"election_status",name:"status",value:r.is_active,onChange:t=>s("is_active",t.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Status"}),e.jsx("option",{value:"1",children:"Active"}),e.jsx("option",{value:"0",children:"Inactive"})]}),e.jsx(m,{message:n.is_active,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(N,{type:"button",onClick:d,children:"Cancel"}),e.jsx(g,{type:"submit",className:"ms-3",disabled:u,children:u?e.jsx(E,{visible:!0,height:"10",width:"40",color:"#D1D5DB",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""}):"Submit"})]})]})})}export{A as default};

import{W as v,r as N,j as e}from"./app-BcsY7O2q.js";import{I as l}from"./InputError-DKTO_jQh.js";import{I as c}from"./InputLabel-CyGcDeY6.js";import{M as _}from"./Modal-DxtK4YOM.js";import{P as g}from"./PrimaryButton-C8FhZBRR.js";import{S as b}from"./SecondaryButton-fjEJyUDk.js";import{S as y}from"./SelectInput-BVP09Ruf.js";import{T as E}from"./TextInput-3pcFdHwf.js";import{T as S}from"./Textarea-BIM__kE4.js";import{_ as C}from"./index-CVxfNNzs.js";import"./transition-B-1_29jg.js";function R({modalOpen:d,closeModal:n,activeElections:p,position:s}){const{data:r,setData:i,put:u,processing:x,errors:m,reset:f}=v({name:"",description:"",election_id:""});N.useEffect(()=>{s&&i({name:s.name,description:s.description,election_id:s.election.id})},[s]);const h=t=>{if(t){let a=0;for(const o in t)t.hasOwnProperty(o)&&setTimeout(()=>{C.error(t[o])},a),a+=150}},j=(t,a)=>{t.preventDefault(),u(route("position.update",a),{preserveScroll:!0,onSuccess:()=>{f(),n()},onError:o=>h(o)})};return e.jsx(_,{show:d,onClose:n,children:e.jsxs("form",{onSubmit:t=>j(t,s.id),className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Edit position"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"position_name",value:"Position Name"}),e.jsx(E,{type:"text",className:"mt-1 block w-full",id:"position_name",name:"name",value:r.name,isFocused:!0,onChange:t=>i("name",t.target.value)}),e.jsx(l,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"position_description",value:"Position Description"}),e.jsx(S,{className:"mt-1 block w-full",id:"position_description",name:"description",value:r.description,onChange:t=>i("description",t.target.value)}),e.jsx(l,{message:m.description,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"election_id",value:"Election"}),e.jsxs(y,{className:"mt-1 block w-full",id:"election_id",name:"election",value:r.election_id,onChange:t=>i("election_id",t.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Active Election"}),p.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(l,{message:m.election_id,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(b,{type:"button",onClick:n,children:"Cancel"}),e.jsx(g,{type:"submit",className:"ms-3",disabled:x,children:"Submit"})]})]})})}export{R as default};

import{W as y,r as b,j as e}from"./app-BxMCe73a.js";import{I as i}from"./InputError-DIUJ5_O9.js";import{I as n}from"./InputLabel-16z24XcL.js";import{M as g}from"./Modal-BqLNxhVk.js";import{P as N}from"./PrimaryButton-CQnbkt4S.js";import{S}from"./SecondaryButton-CqzuHLBh.js";import{S as C}from"./SelectInput-CoBDRpiw.js";import{T as c}from"./TextInput-BmqDoe44.js";import{_}from"./index-zRl0TDOm.js";import{$ as w}from"./module-Cj_J8UGd.js";import"./transition-CX6PlzZB.js";function O({modalOpen:p,closeModal:u,voter:s,courses:x}){const{data:r,setData:t,put:f,processing:d,errors:m,reset:h}=y({name:"",email:"",course:"",year:""});b.useEffect(()=>{s&&t({name:s.name,email:s.email,course:s.course.id,year:s.year})},[s]);const j=a=>{if(a){let l=0;for(const o in a)a.hasOwnProperty(o)&&setTimeout(()=>{_.error(a[o])},l),l+=150}},v=(a,l)=>{a.preventDefault(),f(route("voter.update",l),{preserveScroll:!0,onSuccess:()=>{h(),u()},onError:o=>j(o)})};return e.jsx(g,{show:p,onClose:u,children:e.jsxs("form",{onSubmit:a=>v(a,s.id),className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Edit voter"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"voter_name",value:"Voter Name"}),e.jsx(c,{type:"text",className:"mt-1 block w-full",id:"voter_name",name:"name",value:r.name,isFocused:!0,onChange:a=>t("name",a.target.value)}),e.jsx(i,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"voter_email",value:"Voter Email"}),e.jsx(c,{type:"email",className:"mt-1 block w-full",id:"voter_email",name:"email",value:r.email,onChange:a=>t("email",a.target.value)}),e.jsx(i,{message:m.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"voter_course",value:"Voter Course"}),e.jsxs(C,{className:"mt-1 block w-full",id:"voter_course",name:"course",value:r.course,onChange:a=>t("course",a.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Course"}),x.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsx(i,{message:m.course,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"voter_year",value:"Voter Year Level"}),e.jsx(c,{type:"number",min:"1",max:"5",className:"mt-1 block w-full",id:"voter_year",name:"year",value:r.year,isFocused:!0,onChange:a=>t("year",a.target.value)}),e.jsx(i,{message:m.year,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(S,{type:"button",onClick:u,children:"Cancel"}),e.jsx(N,{type:"submit",className:"ms-3",disabled:d,children:d?e.jsx(w,{visible:!0,height:"10",width:"40",color:"#D1D5DB",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""}):"Submit"})]})]})})}export{O as default};

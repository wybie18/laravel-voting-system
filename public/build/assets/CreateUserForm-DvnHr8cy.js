import{W as g,j as e}from"./app-C6MONR6y.js";import{I as o}from"./InputError-CyxeuteP.js";import{I as l}from"./InputLabel-ChdWiIRq.js";import{M as N}from"./Modal-C-i6NPdq.js";import{P as _}from"./PrimaryButton-CQVXOvgn.js";import{S as b}from"./SecondaryButton-CZNZy8sN.js";import{S as y}from"./SelectInput-CpPidN9O.js";import{T as n}from"./TextInput-DBNtM0Pu.js";import{_ as C}from"./index-BuIyX0EE.js";import{$ as S}from"./module-CK1e9yIc.js";import"./transition-93aCD_9b.js";function L({modalOpen:f,closeModal:i,roles:x}){const{data:a,setData:r,post:h,processing:c,errors:t,reset:d}=g({name:"",email:"",role:"",password:"",password_confirmation:""}),j=s=>{if(s){let m=0;for(const p in s)s.hasOwnProperty(p)&&setTimeout(()=>{C.error(s[p])},m),m+=150}},w=s=>{s.preventDefault(),h(route("user.store"),{preserveScroll:!0,onSuccess:()=>{d(),i()},onError:m=>j(m)})},u=()=>{d(),i()},v=s=>s&&s[0].toUpperCase()+s.slice(1);return e.jsx(N,{show:f,onClose:u,children:e.jsxs("form",{onSubmit:w,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Create new user"}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_name",value:"User Name"}),e.jsx(n,{type:"text",className:"mt-1 block w-full",id:"user_name",name:"name",value:a.name,isFocused:!0,onChange:s=>r("name",s.target.value)}),e.jsx(o,{message:t.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_email",value:"User Email"}),e.jsx(n,{type:"email",className:"mt-1 block w-full",id:"user_email",name:"email",value:a.email,onChange:s=>r("email",s.target.value)}),e.jsx(o,{message:t.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_role",value:"User Role"}),e.jsxs(y,{className:"mt-1 block w-full",id:"user_role",name:"role",defaultValue:"staff",value:a.role,onChange:s=>r("role",s.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Role"}),x.map(s=>e.jsx("option",{value:s.name,children:v(s.name)},s.name))]}),e.jsx(o,{message:t.role,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_password",value:"User Password"}),e.jsx(n,{type:"password",className:"mt-1 block w-full",id:"user_password",name:"password",value:a.password,onChange:s=>r("password",s.target.value)}),e.jsx(o,{message:t.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_password_confirmation",value:"Confirm Password"}),e.jsx(n,{type:"password",className:"mt-1 block w-full",id:"user_password_confirmation",name:"password_confirmation",value:a.password_confirmation,onChange:s=>r("password_confirmation",s.target.value)}),e.jsx(o,{message:t.password_confirmation,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(b,{type:"button",onClick:u,children:"Cancel"}),e.jsx(_,{type:"submit",className:"ms-3",disabled:c,children:c?e.jsx(S,{visible:!0,height:"10",width:"40",color:"#D1D5DB",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""}):"Submit"})]})]})})}export{L as default};

import{r as a,j as e,Y as k,y as N}from"./app-BjTe4tns.js";import{T as d,P as S}from"./TableHeading-BvBbf4SA.js";import{T as g}from"./TextInput-mgxaHorm.js";import{A}from"./AdminAuthenticatedLayout-CPpcnnBk.js";import{_ as F}from"./index-DfO0YDRg.js";import T from"./CreateUserForm-oPun14uE.js";import I from"./EditUserForm-0wrvGq5A.js";import K from"./DeleteUserForm-CBRuPpjL.js";import"./ApplicationLogo-BlutpARC.js";import"./transition-D3aL5lPc.js";import"./ResponsiveNavLink-BPMjqdHV.js";import"./InputError-B5k47PeF.js";import"./InputLabel-Br7WEZPi.js";import"./Modal-C-MlxMr3.js";import"./PrimaryButton-DYOQU9RH.js";import"./SecondaryButton-BRGBZr67.js";import"./SelectInput-y0uvPG15.js";import"./module-D-GpDyT7.js";import"./DangerButton-D3v2-9j9.js";function le({auth:_,users:i,roles:r,queryParams:s=null,success:c}){s=s||{};const[x,p]=a.useState(),[b,h]=a.useState(!1),[w,m]=a.useState(!1),[u,f]=a.useState(!1),E=()=>{h(!0)},U=t=>{p(l=>t),m(!0)},v=t=>{p(l=>t),f(!0)},M=()=>{h(!1)},C=()=>{m(!1)},D=()=>{f(!1)},n=(t,l)=>{!l&&!s[t]||(l&&(s[t]=l,t==="name"&&s.email?delete s.email:t==="email"&&s.name&&delete s.name),s[t]&&!l&&delete s[t],N.get(route("user.index"),s))},j=(t,l)=>{l.key=="Enter"&&n(t,l.target.value)},o=t=>{t===s.sort_field?s.sort_direction==="asc"?s.sort_direction="desc":s.sort_direction="asc":(s.sort_field=t,s.sort_direction="asc"),N.get(route("user.index"),s)},y=t=>{t&&F.success(t)};a.useEffect(()=>{y(c)},[c]);const O=t=>t&&t[0].toUpperCase()+t.slice(1);return e.jsxs(A,{user:_.user,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Users"}),e.jsx("button",{type:"button",onClick:E,className:"bg-green-900 py-1 px-3 me-2 text-white rounded shadow transition-all hover:bg-green-700",children:"Add User"})]}),children:[e.jsx(k,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-600",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 border-b-2 border-gray-500",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx(d,{name:"id",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:o,children:"ID"}),e.jsx(d,{name:"name",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:o,children:"Name"}),e.jsx(d,{name:"email",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:o,children:"Email"}),e.jsx("th",{className:"px-3 py-2",children:"Role"}),e.jsx(d,{name:"created_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:o,children:"Created Date"}),e.jsx(d,{name:"updated_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:o,children:"Updated Date"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),i.data.length>0?e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 border-b-2 border-gray-500",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2",children:e.jsx(g,{className:"w-full",defaultValue:s.name,placeholder:"Enter User Name",onBlur:t=>n("name",t.target.value),onKeyPress:t=>j("name",t)})}),e.jsx("th",{className:"px-3 py-2",children:e.jsx(g,{className:"w-full",defaultValue:s.email,placeholder:"Enter User Email",onBlur:t=>n("email",t.target.value),onKeyPress:t=>j("email",t)})}),e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2 text-right"})]})}):null,e.jsx("tbody",{children:i.data.length>0?i.data.map(t=>e.jsxs("tr",{className:"bg-white border-b",children:[e.jsx("td",{className:"px-3 py-2",children:t.id}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.name}),e.jsx("td",{className:"px-3 py-2",children:t.email}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:O(t.roles.join(", "))}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.created_at}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.updated_at}),e.jsxs("td",{className:"px-3 py-2 text-right",children:[e.jsx("span",{className:"font-medium text-blue-600 hover:underline mx-1 cursor-pointer",onClick:()=>U(t),children:"Edit"}),e.jsx("span",{className:"font-medium text-red-600 hover:underline mx-1 cursor-pointer",onClick:()=>v(t),children:"Delete"})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-3 py-2 text-center",children:"No data available"})})})]})}),i.data.length>0?e.jsx(S,{links:i.meta.links}):null]})})})}),e.jsx(T,{modalOpen:b,closeModal:M,roles:r}),e.jsx(I,{modalOpen:w,closeModal:C,user:x,roles:r}),e.jsx(K,{modalOpen:u,closeModal:D,user:x})]})}export{le as default};

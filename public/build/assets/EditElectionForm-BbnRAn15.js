import{W as v,r as j,j as e,y as f}from"./app-BjTe4tns.js";import{I as o}from"./InputError-B5k47PeF.js";import{I as m}from"./InputLabel-Br7WEZPi.js";import{M as g}from"./Modal-C-MlxMr3.js";import{P as b}from"./PrimaryButton-DYOQU9RH.js";import{S as N}from"./SecondaryButton-BRGBZr67.js";import{S as y}from"./SelectInput-y0uvPG15.js";import{T as d}from"./TextInput-mgxaHorm.js";import{_ as E}from"./index-DfO0YDRg.js";import{$ as S}from"./module-D-GpDyT7.js";import"./transition-D3aL5lPc.js";function O({modalOpen:_,closeModal:c,election:a}){const{data:s,setData:i,post:w,processing:u,errors:r,reset:p}=v({name:"",image:"",is_active:"",start_date:"",end_date:""});j.useEffect(()=>{a&&i({name:a.name,is_active:a.is_active,start_date:a.start_date,end_date:a.end_date})},[a]);const x=t=>{if(t){let l=0;for(const n in t)t.hasOwnProperty(n)&&setTimeout(()=>{E.error(t[n])},l),l+=150}},h=(t,l)=>{t.preventDefault(),f.post(route("election.update",l),{_method:"PUT",name:s.name,image:s.image,is_active:s.is_active,start_date:s.start_date,end_date:s.end_date},{preserveScroll:!0,onSuccess:()=>{p(),c()},onError:n=>x(n)})};return e.jsx(g,{show:_,onClose:c,children:e.jsxs("form",{onSubmit:t=>{h(t,a.id)},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Create new election"}),a&&a.image_url&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx("img",{src:a.image_url,alt:"logo",className:"w-40 h-40 object-cover rounded-lg mb-4"})}),e.jsxs("div",{className:"mt-4",children:[e.jsx(m,{htmlFor:"election_image",value:"Election Logo"}),e.jsx(d,{type:"file",className:"mt-1 block w-full p-2",id:"election_image",name:"image",accept:"image/*",onChange:t=>i("image",t.target.files[0])})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(m,{htmlFor:"election_name",value:"Election Name"}),e.jsx(d,{type:"text",className:"mt-1 block w-full",id:"election_name",name:"name",value:s.name,isFocused:!0,onChange:t=>i("name",t.target.value)}),e.jsx(o,{message:r.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(m,{htmlFor:"election_start_date",value:"Election Start Date"}),e.jsx(d,{type:"date",className:"mt-1 block w-full",id:"election_start_date",name:"start_date",value:s.start_date,onChange:t=>i("start_date",t.target.value)}),e.jsx(o,{message:r.start_date,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(m,{htmlFor:"election_end_date",value:"Election End Date"}),e.jsx(d,{type:"date",className:"mt-1 block w-full",id:"election_end_date",name:"end_date",value:s.end_date,onChange:t=>i("end_date",t.target.value)}),e.jsx(o,{message:r.end_date,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(m,{htmlFor:"election_status",value:"Election Status"}),e.jsxs(y,{className:"mt-1 block w-full",id:"election_status",name:"status",value:s.is_active,onChange:t=>i("is_active",t.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Status"}),e.jsx("option",{value:"1",children:"Active"}),e.jsx("option",{value:"0",children:"Inactive"})]}),e.jsx(o,{message:r.is_active,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(N,{type:"button",onClick:c,children:"Cancel"}),e.jsx(b,{type:"submit",className:"ms-3",disabled:u,children:u?e.jsx(S,{visible:!0,height:"10",width:"40",color:"#D1D5DB",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""}):"Submit"})]})]})})}export{O as default};

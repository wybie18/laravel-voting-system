import{r as x,j as e,Y as p,a as h}from"./app-BR9ybN9l.js";import{A as b}from"./AdminAuthenticatedLayout-BuiJWRIn.js";import{l as g,B as u,C as j,a as v,L as N,b as y,p as f,c as w,d as C}from"./index-B1apKCrG.js";import{S as _}from"./SecondaryButton-D-stkNJV.js";import{P as A}from"./PrimaryButton-OaR9URUK.js";import"./ApplicationLogo-CyF49Zsk.js";import"./transition-Doucynav.js";import"./ResponsiveNavLink-DyLOWpRM.js";import"./index-C9dKf7qH.js";j.register(v,N,y,f,w,C);function V({auth:i,election:o}){const n=x.useRef(null),c=g.useReactToPrint({content:()=>n.current,documentTitle:`SFXC - ${o.name}`,removeAfterPrint:!0}),d=s=>{const l=s.candidates.map(a=>a.name),r=s.candidates.map(a=>a.votes_count);return{labels:l,datasets:[{label:"Vote Count",data:r,backgroundColor:"rgba(74, 222, 128, 0.5)",borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"].slice(0,r.length),borderWidth:1}]}},m=s=>({responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:s,font:{size:20},position:"top"}},scales:{y:{ticks:{beginAtZero:!0,stepSize:1}}}});return e.jsxs(b,{user:i.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Archive"}),children:[e.jsx(p,{title:"Archive"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900 space-x-2",children:[e.jsx(h,{href:route("archive.index"),children:e.jsx(_,{children:" Go Back "})}),e.jsxs(A,{onClick:c,children:[e.jsx("i",{className:"fa-solid fa-print inline"}),e.jsx("span",{className:"ml-2",children:"Print"})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6 text-gray-900",children:e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"overflow-auto",ref:n,style:{pageBreakAfter:"always"},children:[e.jsxs("div",{className:"print-header text-center",children:[e.jsx("img",{className:"mx-auto w-32 object-cover",src:"/logo.png",alt:"logo"}),e.jsx("img",{className:"mx-auto w-72 object-cover",src:"/xavier_name.png",alt:"logo"})]}),e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:o.name}),e.jsxs("table",{className:"table-auto min-w-full mb-4 border-collapse border-gray-200",children:[e.jsx("thead",{className:"text-md text-gray-700 uppercase bg-gray-50 border-b-2 border-gray-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Position"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Candidate"}),e.jsx("th",{className:"px-4 py-2 w-40",children:"Vote Count"}),e.jsx("th",{className:"px-4 py-2 w-32",children:"Rank"})," "]})}),e.jsx("tbody",{children:o.positions.map(s=>{const l=[...s.candidates].sort((r,t)=>t.votes_count-r.votes_count);return l.map((r,t)=>{let a="";return t===0&&(a="bg-green-400"),e.jsxs("tr",{children:[t===0&&e.jsx("td",{className:"px-4 py-2 border-b border-r font-medium",rowSpan:l.length,children:s.name}),e.jsx("td",{className:"px-4 py-2 border-b",children:r.name}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:r.votes_count}),e.jsx("td",{className:"px-4 py-2 border-b text-center "+(r.votes_count!=0?a:""),children:r.votes_count!=0?t+1:"0"})]},r.id)})})})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-8 mt-8",children:o.positions.map(s=>e.jsx("div",{className:"mb-8",children:e.jsx(u,{data:d(s),options:m(s.name),className:"border py-1 px-2"})},s.id))})]})})})]})})]})}export{V as default};

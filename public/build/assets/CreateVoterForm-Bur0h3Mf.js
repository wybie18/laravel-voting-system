import{W as y,j as e}from"./app-B2AWkznq.js";import{I as m}from"./InputError-h8NeWBlP.js";import{I as l}from"./InputLabel-g5S-7c0g.js";import{M as b}from"./Modal-BvNI2SCb.js";import{P as g}from"./PrimaryButton-DHkyTZzs.js";import{S as N}from"./SecondaryButton-C-C6zuDm.js";import{S as C}from"./SelectInput-B0bfgrJJ.js";import{T as n}from"./TextInput-CBJ6gXdd.js";import{_ as w}from"./index-BscC6gSc.js";import{$ as S}from"./module-B81j2Vb3.js";import"./transition-B-Jck_k3.js";function T({modalOpen:x,closeModal:i,courses:v}){const{data:s,setData:t,post:h,processing:c,errors:r,reset:u}=y({name:"",email:"",course:"",year:""}),j=a=>{if(a){let o=0;for(const p in a)a.hasOwnProperty(p)&&setTimeout(()=>{w.error(a[p])},o),o+=150}},f=a=>{a.preventDefault(),h(route("voter.store"),{preserveScroll:!0,onSuccess:()=>{u(),i()},onError:o=>j(o)})},d=()=>{u(),i()};return e.jsx(b,{show:x,onClose:d,children:e.jsxs("form",{onSubmit:f,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Create new voter"}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"voter_name",value:"Voter Name"}),e.jsx(n,{type:"text",className:"mt-1 block w-full",id:"voter_name",name:"name",value:s.name,isFocused:!0,onChange:a=>t("name",a.target.value)}),e.jsx(m,{message:r.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"voter_email",value:"Voter Email"}),e.jsx(n,{type:"email",className:"mt-1 block w-full",id:"voter_email",name:"email",value:s.email,onChange:a=>t("email",a.target.value)}),e.jsx(m,{message:r.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"voter_course",value:"Voter Course"}),e.jsxs(C,{className:"mt-1 block w-full",id:"voter_course",name:"course",value:s.course,onChange:a=>t("course",a.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Course"}),v.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsx(m,{message:r.course,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"voter_year",value:"Voter Year Level"}),e.jsx(n,{type:"number",min:"1",max:"5",className:"mt-1 block w-full",id:"voter_year",name:"year",value:s.year,isFocused:!0,onChange:a=>t("year",a.target.value)}),e.jsx(m,{message:r.year,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(N,{type:"button",onClick:d,children:"Cancel"}),e.jsx(g,{type:"submit",className:"ms-3",disabled:c,children:c?e.jsx(S,{visible:!0,height:"10",width:"40",color:"#D1D5DB",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""}):"Submit"})]})]})})}export{T as default};

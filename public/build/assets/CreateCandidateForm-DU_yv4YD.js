import{W as g,j as e}from"./app-DyCwzmlB.js";import{I as n}from"./InputError-sJ_ZuQQi.js";import{I as i}from"./InputLabel-BmG9Zq_l.js";import{M as v}from"./Modal-Cl-DAQvD.js";import{P as b}from"./PrimaryButton-CnInzeD-.js";import{S as N}from"./SecondaryButton-iECWM4HN.js";import{S as _}from"./SelectInput-CNGof39r.js";import{T as c}from"./TextInput-B51rtFTF.js";import{T as C}from"./Textarea-HE_X0SSr.js";import{_ as y}from"./index-C9JAQf6s.js";import{$ as w}from"./module-BHXAKI4I.js";import"./transition-K_nspV4K.js";function O({modalOpen:p,closeModal:o,activePositions:u}){const{data:r,setData:t,post:f,processing:l,errors:m,reset:x}=g({name:"",platform:"",image:"",position_id:""}),h=a=>{if(a){let s=0;for(const d in a)a.hasOwnProperty(d)&&setTimeout(()=>{y.error(a[d])},s),s+=150}},j=a=>{a.preventDefault(),f(route("candidate.store"),{preserveScroll:!0,onSuccess:()=>{x(),o()},onError:s=>h(s)})};return e.jsx(v,{show:p,onClose:o,children:e.jsxs("form",{onSubmit:j,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Create new candidate"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"candidate_image",value:"Candidate Image"}),e.jsx(c,{type:"file",className:"mt-1 block w-full p-2",id:"candidate_image",name:"image",onChange:a=>t("image",a.target.files[0])})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"candidate_name",value:"Candidate Name"}),e.jsx(c,{type:"text",className:"mt-1 block w-full",id:"candidate_name",name:"name",value:r.name,isFocused:!0,onChange:a=>t("name",a.target.value)}),e.jsx(n,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"candidate_description",value:"Candidate Platform"}),e.jsx(C,{className:"mt-1 block w-full",id:"candidate_description",name:"platform",value:r.platform,onChange:a=>t("platform",a.target.value)}),e.jsx(n,{message:m.platform,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"position_id",value:"Positions"}),e.jsxs(_,{className:"mt-1 block w-full",id:"position_id",name:"position",value:r.position_id,onChange:a=>t("position_id",a.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Position From Active Election"}),u.filter(a=>a.election.is_active).map(a=>e.jsxs("option",{value:a.id,children:[a.name," - ",a.election.name]},a.id))]}),e.jsx(n,{message:m.position_id,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(N,{type:"button",onClick:o,children:"Cancel"}),e.jsx(b,{type:"submit",className:"ms-3",disabled:l,children:l?e.jsx(w,{visible:!0,height:"10",width:"40",color:"#D1D5DB",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""}):"Submit"})]})]})})}export{O as default};

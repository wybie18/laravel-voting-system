import{W as v,j as e}from"./app-BcsY7O2q.js";import{I as r}from"./InputError-DKTO_jQh.js";import{I as i}from"./InputLabel-CyGcDeY6.js";import{M as g}from"./Modal-DxtK4YOM.js";import{P as N}from"./PrimaryButton-C8FhZBRR.js";import{S as _}from"./SecondaryButton-fjEJyUDk.js";import{S as C}from"./SelectInput-BVP09Ruf.js";import{T as d}from"./TextInput-3pcFdHwf.js";import{T as y}from"./Textarea-BIM__kE4.js";import{_ as b}from"./index-CVxfNNzs.js";import"./transition-B-1_29jg.js";function L({modalOpen:c,closeModal:n,activePositions:p}){const{data:o,setData:t,post:u,processing:x,errors:m,reset:f}=v({name:"",description:"",image:"",position_id:""}),h=a=>{if(a){let s=0;for(const l in a)a.hasOwnProperty(l)&&setTimeout(()=>{b.error(a[l])},s),s+=150}},j=a=>{a.preventDefault(),u(route("candidate.store"),{preserveScroll:!0,onSuccess:()=>{f(),n()},onError:s=>h(s)})};return e.jsx(g,{show:c,onClose:n,children:e.jsxs("form",{onSubmit:j,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Create new candidate"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"candidate_image",value:"Candidate Image"}),e.jsx(d,{type:"file",className:"mt-1 block w-full p-2",id:"candidate_image",name:"image",onChange:a=>t("image",a.target.files[0])})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"candidate_name",value:"Candidate Name"}),e.jsx(d,{type:"text",className:"mt-1 block w-full",id:"candidate_name",name:"name",value:o.name,isFocused:!0,onChange:a=>t("name",a.target.value)}),e.jsx(r,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"candidate_description",value:"Candidate Platform"}),e.jsx(y,{className:"mt-1 block w-full",id:"candidate_description",name:"description",value:o.description,onChange:a=>t("description",a.target.value)}),e.jsx(r,{message:m.description,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"position_id",value:"Positions"}),e.jsxs(C,{className:"mt-1 block w-full",id:"position_id",name:"position",value:o.position_id,onChange:a=>t("position_id",a.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Position From Active Election"}),p.filter(a=>a.election.is_active).map(a=>e.jsxs("option",{value:a.id,children:[a.name," - ",a.election.name]},a.id))]}),e.jsx(r,{message:m.position_id,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(_,{type:"button",onClick:n,children:"Cancel"}),e.jsx(N,{type:"submit",className:"ms-3",disabled:x,children:"Submit"})]})]})})}export{L as default};

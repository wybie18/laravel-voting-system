import{W as b,r as v,j as e}from"./app-DRtfgmpM.js";import{I as c}from"./InputError-BBO9EYdl.js";import{I as d}from"./InputLabel-CmAAkhNU.js";import{M as g}from"./Modal-CQN9PjbD.js";import{P as y}from"./PrimaryButton-B-yNISTx.js";import{S as N}from"./SecondaryButton-B2g79CXc.js";import{S}from"./SelectInput-CyRWJ8jK.js";import{T as _}from"./TextInput-BIffdAmA.js";import"./Textarea-BFVUsRwX.js";import{_ as E}from"./index-DfmBdk0K.js";import{$ as w}from"./module-DKH2ZTa2.js";import"./transition-BSfOzCZB.js";function R({modalOpen:u,closeModal:o,activeElections:p,position:s}){const{data:n,setData:r,put:f,processing:m,errors:l,reset:x}=b({name:"",election_id:""});v.useEffect(()=>{s&&r({name:s.name,election_id:s.election.id})},[s]);const h=t=>{if(t){let a=0;for(const i in t)t.hasOwnProperty(i)&&setTimeout(()=>{E.error(t[i])},a),a+=150}},j=(t,a)=>{t.preventDefault(),f(route("position.update",a),{preserveScroll:!0,onSuccess:()=>{x(),o()},onError:i=>h(i)})};return e.jsx(g,{show:u,onClose:o,children:e.jsxs("form",{onSubmit:t=>j(t,s.id),className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Edit position"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(d,{htmlFor:"position_name",value:"Position Name"}),e.jsx(_,{type:"text",className:"mt-1 block w-full",id:"position_name",name:"name",value:n.name,isFocused:!0,onChange:t=>r("name",t.target.value)}),e.jsx(c,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(d,{htmlFor:"election_id",value:"Election"}),e.jsxs(S,{className:"mt-1 block w-full",id:"election_id",name:"election",value:n.election_id,onChange:t=>r("election_id",t.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Active Election"}),p.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(c,{message:l.election_id,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(N,{type:"button",onClick:o,children:"Cancel"}),e.jsx(y,{type:"submit",className:"ms-3",disabled:m,children:m?e.jsx(w,{visible:!0,height:"10",width:"40",color:"#D1D5DB",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""}):"Submit"})]})]})})}export{R as default};

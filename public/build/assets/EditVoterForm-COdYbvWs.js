import{W as v,r as y,j as e}from"./app-BcsY7O2q.js";import{I as n}from"./InputError-DKTO_jQh.js";import{I as u}from"./InputLabel-CyGcDeY6.js";import{M as N}from"./Modal-DxtK4YOM.js";import{P as b}from"./PrimaryButton-C8FhZBRR.js";import{S as g}from"./SecondaryButton-fjEJyUDk.js";import"./SelectInput-BVP09Ruf.js";import{T as c}from"./TextInput-3pcFdHwf.js";import"./Textarea-BIM__kE4.js";import{_ as E}from"./index-CVxfNNzs.js";import"./transition-B-1_29jg.js";function D({modalOpen:p,closeModal:r,voter:a}){const{data:i,setData:o,put:d,processing:f,errors:l,reset:x}=v({name:"",email:""});y.useEffect(()=>{a&&o({name:a.name,email:a.email})},[a]);const j=t=>{if(t){let m=0;for(const s in t)t.hasOwnProperty(s)&&setTimeout(()=>{E.error(t[s])},m),m+=150}},h=(t,m)=>{t.preventDefault(),d(route("voter.update",m),{preserveScroll:!0,onSuccess:()=>{x(),r()},onError:s=>j(s)})};return e.jsx(N,{show:p,onClose:r,children:e.jsxs("form",{onSubmit:t=>h(t,a.id),className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Edit voter"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(u,{htmlFor:"voter_name",value:"Voter Name"}),e.jsx(c,{type:"text",className:"mt-1 block w-full",id:"voter_name",name:"name",value:i.name,isFocused:!0,onChange:t=>o("name",t.target.value)}),e.jsx(n,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(u,{htmlFor:"voter_email",value:"Voter Email"}),e.jsx(c,{type:"email",className:"mt-1 block w-full",id:"voter_email",name:"email",value:i.email,onChange:t=>o("email",t.target.value)}),e.jsx(n,{message:l.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(g,{type:"button",onClick:r,children:"Cancel"}),e.jsx(b,{type:"submit",className:"ms-3",disabled:f,children:"Submit"})]})]})})}export{D as default};

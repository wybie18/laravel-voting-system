import{r as d,j as e,Y as D,y as j}from"./app-C6MONR6y.js";import{T as a,P as M}from"./TableHeading-Iu9epOOI.js";import{S as A}from"./SelectInput-CpPidN9O.js";import{T as I}from"./TextInput-DBNtM0Pu.js";import{A as k}from"./AdminAuthenticatedLayout-54MzZVKp.js";import{E as O,a as T}from"./constants-LZmm8eTq.js";import{_ as F}from"./index-BuIyX0EE.js";import K from"./DeleteElectionForm-BXvDsHuV.js";import V from"./CreateElectionForm-D-RVzOgC.js";import B from"./EditElectionForm-DeQfpkUJ.js";import"./ApplicationLogo-C2sBsH0-.js";import"./transition-93aCD_9b.js";import"./ResponsiveNavLink-l-uKXkKy.js";import"./DangerButton-Bb0SVk2t.js";import"./Modal-C-i6NPdq.js";import"./SecondaryButton-CZNZy8sN.js";import"./module-CK1e9yIc.js";import"./InputError-CyxeuteP.js";import"./InputLabel-ChdWiIRq.js";import"./PrimaryButton-CQVXOvgn.js";function ae({auth:f,elections:o,queryParams:s=null,success:r}){s=s||{};const[c,x]=d.useState(),[_,p]=d.useState(!1),[N,h]=d.useState(!1),[g,m]=d.useState(!1),u=()=>{p(!0)},E=t=>{x(i=>t),h(!0)},b=t=>{x(i=>t),m(!0)},v=()=>{p(!1)},w=()=>{h(!1)},S=()=>{m(!1)},y=t=>{t&&F.success(t)};d.useEffect(()=>{y(r)},[r]);const n=(t,i)=>{!i&&!s[t]||(i&&(s[t]=i),s[t]&&!i&&delete s[t],j.get(route("election.index"),s))},C=(t,i)=>{i.key=="Enter"&&n(t,i.target.value)},l=t=>{t===s.sort_field?s.sort_direction==="asc"?s.sort_direction="desc":s.sort_direction="asc":(s.sort_field=t,s.sort_direction="asc"),j.get(route("election.index"),s)};return e.jsxs(k,{user:f.user,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Elections"}),e.jsx("button",{type:"button",onClick:u,className:"bg-green-900 py-1 px-3 text-white rounded shadow transition-all hover:bg-green-700",children:"Add Election"})]}),children:[e.jsx(D,{title:"Elections"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-600",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 border-b-2 border-gray-500",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx(a,{name:"id",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:l,children:"ID"}),e.jsx("th",{className:"px-3 py-2",children:"Image"}),e.jsx(a,{name:"name",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:l,children:"Name"}),e.jsx(a,{name:"is_active",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:l,children:"Status"}),e.jsx(a,{name:"start_date",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:l,children:"Start Date"}),e.jsx(a,{name:"end_date",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:l,children:"End Date"}),e.jsx(a,{name:"created_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:l,children:"Created Date"}),e.jsx(a,{name:"updated_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChange:l,children:"Updated Date"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),o.data.length>0?e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 border-b-2 border-gray-500",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2",children:e.jsx(I,{className:"w-full",defaultValue:s.name,placeholder:"Enter Election Name",onBlur:t=>n("name",t.target.value),onKeyPress:t=>C("name",t)})}),e.jsx("th",{className:"px-3 py-2",children:e.jsxs(A,{className:"w-full",defaultValue:s.status,onChange:t=>n("status",t.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Status"}),e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"1",children:"Active"}),e.jsx("option",{value:"0",children:"Inactive"})]})}),e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2"}),e.jsx("th",{className:"px-3 py-2 text-right"})]})}):null,e.jsx("tbody",{children:o.data.length>0?o.data.map(t=>e.jsxs("tr",{className:"bg-white border-b",children:[e.jsx("td",{className:"px-3 py-2",children:t.id}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("img",{src:t.image_url,alt:"profile",className:"w-14 h-14 object-cover"})}),e.jsx("td",{className:"px-3 py-2",children:t.name}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:"px-2 py-1 text-white rounded-md w-full "+O[t.is_active],children:T[t.is_active]})}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.start_date}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.end_date}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.created_at}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.updated_at}),e.jsxs("td",{className:"px-3 py-2 text-right",children:[e.jsx("span",{className:"font-medium text-blue-600 hover:underline mx-1 cursor-pointer",onClick:()=>E(t),children:"Edit"}),e.jsx("span",{className:"font-medium text-red-600 hover:underline mx-1 cursor-pointer",onClick:()=>b(t),children:"Delete"})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-3 py-2 text-center",children:"No data available"})})})]})}),o.data.length>0?e.jsx(M,{links:o.meta.links}):null]})})})}),e.jsx(V,{modalOpen:_,closeModal:v}),e.jsx(B,{modalOpen:N,closeModal:w,election:c}),e.jsx(K,{election:c,confirmingDeletion:g,closeModal:S})]})}export{ae as default};

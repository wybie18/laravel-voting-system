import{W as N,r as g,j as e}from"./app-DTNec_AW.js";import{I as m}from"./InputError-Mf4nRyLL.js";import{I as l}from"./InputLabel-sMwYFRux.js";import{M as b}from"./Modal-D48-d2EP.js";import{P as _}from"./PrimaryButton-Ct8yNGmU.js";import{S as y}from"./SecondaryButton-ALxWxMng.js";import{S as C}from"./SelectInput-7QK8DhP5.js";import{T as c}from"./TextInput-DIaB1Ni8.js";import{_ as S}from"./index-ENNwe119.js";import{$ as E}from"./module-B1J_2cf7.js";import"./transition-CH4SKRHc.js";function L({modalOpen:u,closeModal:d,user:a,roles:f}){const{data:t,setData:r,put:x,processing:p,errors:o,reset:h}=N({name:"",email:"",role:"",password:"",password_confirmation:""});g.useEffect(()=>{a&&r({name:a.name,email:a.email,role:a.roles})},[a]);const j=s=>{if(s){let i=0;for(const n in s)s.hasOwnProperty(n)&&setTimeout(()=>{S.error(s[n])},i),i+=150}},w=(s,i)=>{s.preventDefault(),x(route("user.update",i),{preserveScroll:!0,onSuccess:()=>{h(),d()},onError:n=>j(n)})},v=s=>s&&s[0].toUpperCase()+s.slice(1);return e.jsx(b,{show:u,onClose:d,children:e.jsxs("form",{onSubmit:s=>w(s,a.id),className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Edit user"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_name",value:"User Name"}),e.jsx(c,{type:"text",className:"mt-1 block w-full",id:"user_name",name:"name",value:t.name,isFocused:!0,onChange:s=>r("name",s.target.value)}),e.jsx(m,{message:o.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_email",value:"User Email"}),e.jsx(c,{type:"email",className:"mt-1 block w-full",id:"user_email",name:"email",value:t.email,onChange:s=>r("email",s.target.value)}),e.jsx(m,{message:o.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_role",value:"User Role"}),e.jsxs(C,{className:"mt-1 block w-full",id:"user_role",name:"role",value:t.role,onChange:s=>r("role",s.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Role"}),f.map(s=>e.jsx("option",{value:s.name,children:v(s.name)},s.name))]}),e.jsx(m,{message:o.role,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_password",value:"New User Password ( Optional )"}),e.jsx(c,{type:"password",className:"mt-1 block w-full",id:"user_password",name:"password",value:t.password,onChange:s=>r("password",s.target.value)}),e.jsx(m,{message:o.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"user_password_confirmation",value:"Confirm New Password ( Optional )"}),e.jsx(c,{type:"password",className:"mt-1 block w-full",id:"user_password_confirmation",name:"password_confirmation",value:t.password_confirmation,onChange:s=>r("password_confirmation",s.target.value)}),e.jsx(m,{message:o.password_confirmation,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(y,{type:"button",onClick:d,children:"Cancel"}),e.jsx(_,{type:"submit",className:"ms-3",disabled:p,children:p?e.jsx(E,{visible:!0,height:"10",width:"40",color:"#D1D5DB",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""}):"Submit"})]})]})})}export{L as default};
